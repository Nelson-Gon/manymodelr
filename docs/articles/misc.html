<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Extra functions in manymodelr â€¢ Build and Tune Several Models</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/darkly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Extra functions in manymodelr">
<meta property="og:description" content="manymodelr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Build and Tune Several Models</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/manymodelr_vignette.html">
    <span class="fas fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Documentation
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/modeling.html">Modeling with manymodelr</a>
    </li>
    <li>
      <a href="../articles/correlations.html">Correlation analysis</a>
    </li>
    <li>
      <a href="../articles/misc.html">Miscellaneous</a>
    </li>
    <li>
      <a href="../news/index.html">Changes</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Nelson-Gon/manymodelr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="misc_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Extra functions in manymodelr</h1>
            
            <h4 class="date">2021-06-10</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/Nelson-Gon/manymodelr/blob/master/vignettes/misc.rmd"><code>vignettes/misc.rmd</code></a></small>
      <div class="hidden name"><code>misc.rmd</code></div>

    </div>

    
    
<p><a href="https://cran.r-project.org/package=manymodelr"><img src="https://www.r-pkg.org/badges/version/manymodelr" alt="CRAN_Status_Badge"></a> <a href="https://codecov.io/gh/Nelson-Gon/manymodelr?branch=develop"><img src="https://codecov.io/gh/Nelson-Gon/manymodelr/branch/develop/graph/badge.svg" alt="Codecov test coverage"></a> <a href="https://doi.org/10.5281/zenodo.3891106"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.3891106.svg" alt="DOI"></a> <a href="https://travis-ci.com/Nelson-Gon/manymodelr"><img src="https://travis-ci.com/Nelson-Gon/manymodelr.png?branch=master" alt="Build Status"></a> <a href="https://github.com/Nelson-Gon/manymodelr"><img src="https://github.com/Nelson-Gon/manymodelr/workflows/R-CMD-check-devel/badge.svg" alt="R CMDCheck"></a> <img src="https://github.com/Nelson-Gon/manymodelr/workflows/test-coverage/badge.svg" alt="test-coverage"><a href="https://www.gnu.org/licenses/gpl-3.0.en.html"><img src="https://img.shields.io/badge/license-GPL--2-blue.svg" alt="license"></a> <a href="https://CRAN.R-project.org/package=manymodelr"><img src="https://www.r-pkg.org/badges/version-ago/manymodelr" alt="CRAN_Release_Badge"></a> <a href="https://cran.r-project.org/package=manymodelr"><img src="https://cranlogs.r-pkg.org/badges/manymodelr" alt="Downloads"></a> <a href="https://cran.r-project.org/package=manymodelr"><img src="https://cranlogs.r-pkg.org/badges/grand-total/manymodelr?color=yellow" alt="TotalDownloads"></a> <a href="https://lifecycle.r-lib.org/articles/stages.html"><img src="https://img.shields.io/badge/lifecycle-stable-brightgreen.svg" alt="lifecycle"></a> <a href="https://GitHub.com/Nelson-Gon/manymodelr/graphs/commit-activity"><img src="https://img.shields.io/badge/Maintained%3F-yes-green.svg" alt="Maintenance"></a> <a href="https://www.repostatus.org/"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status"></a> <a href="https://github.com/Nelson-Gon/manymodelr/commits/master"><img src="https://img.shields.io/github/last-commit/Nelson-Gon/manymodelr.svg" alt="GitHub last commit"></a> <a href="https://GitHub.com/Nelson-Gon/manymodelr/issues/"><img src="https://img.shields.io/github/issues/Nelson-Gon/manymodelr.svg" alt="GitHub issues"></a> <a href="https://GitHub.com/Nelson-Gon/manymodelr/issues?q=is%3Aissue+is%3Aclosed"><img src="https://img.shields.io/github/issues-closed/Nelson-Gon/manymodelr.svg" alt="GitHub issues-closed"></a></p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Nelson-Gon/manymodelr">manymodelr</a></span><span class="op">)</span>
<span class="co">#&gt; Loading required package: caret</span>
<span class="co">#&gt; Loading required package: lattice</span>
<span class="co">#&gt; Loading required package: ggplot2</span>
<span class="co">#&gt; Loading required package: Metrics</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'Metrics'</span>
<span class="co">#&gt; The following objects are masked from 'package:caret':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     precision, recall</span>
<span class="co">#&gt; Loading required package: e1071</span>
<span class="co">#&gt; Warning: package 'e1071' was built under R version 4.0.4</span>
<span class="co">#&gt; Welcome to manymodelr. This is manymodelr version 0.3.6.</span>
<span class="co">#&gt;  Please file issues and feedback at https://www.github.com/Nelson-Gon/manymodelr/issues</span>
<span class="co">#&gt; Turn this message off using 'suppressPackageStartupMessages(library(manymodelr))'</span>
<span class="co">#&gt;  Happy Modelling! :)</span></code></pre></div>
<ul>
<li><strong><code>agg_by_group</code></strong></li>
</ul>
<p>As can be guessed from the name, this function provides an easy way to manipulate grouped data. We can for instance find the number of observations in the yields data set. The formula takes the form <code>x~y</code> where <code>y</code> is the grouping variable(in this case <code>normal</code>). One can supply a formula as shown next.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Load the yields dataset</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"yields"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fu"><a href="../reference/agg_by_group.html">agg_by_group</a></span><span class="op">(</span><span class="va">yields</span>,<span class="va">.</span><span class="op">~</span><span class="va">normal</span>,<span class="va">length</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Grouped By[1]:   normal </span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   normal height weight yield</span>
<span class="co">#&gt; 1     No    500    500   500</span>
<span class="co">#&gt; 2    Yes    500    500   500</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fu"><a href="../reference/agg_by_group.html">agg_by_group</a></span><span class="op">(</span><span class="va">mtcars</span>,<span class="va">cyl</span><span class="op">~</span><span class="va">hp</span><span class="op">+</span><span class="va">vs</span>,<span class="va">sum</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Grouped By[2]:   hp vs </span>
<span class="co">#&gt; </span>
<span class="co">#&gt;    hp vs cyl</span>
<span class="co">#&gt; 1  91  0   4</span>
<span class="co">#&gt; 2 110  0  12</span>
<span class="co">#&gt; 3 150  0  16</span>
<span class="co">#&gt; 4 175  0  22</span>
<span class="co">#&gt; 5 180  0  24</span>
<span class="co">#&gt; 6 205  0   8</span></code></pre></div>
<ul>
<li><code>rowdiff</code></li>
</ul>
<p>This is useful when trying to find differences between rows. The <code>direction</code> argument specifies how the subtractions are made while the <code>exclude</code> argument is used to specify classes that should be removed before calculations are made. Using <code>direction="reverse"</code> performs a subtraction akin to <code>x-(x-1)</code> where <code>x</code> is the row number.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fu"><a href="../reference/rowdiff.html">rowdiff</a></span><span class="op">(</span><span class="va">yields</span>,exclude <span class="op">=</span> <span class="st">"factor"</span>,direction <span class="op">=</span> <span class="st">"reverse"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;        height      weight      yield</span>
<span class="co">#&gt; 1          NA          NA         NA</span>
<span class="co">#&gt; 2 -0.04212634  0.24042659 -15.808303</span>
<span class="co">#&gt; 3  0.01516059  0.09649856  11.170825</span>
<span class="co">#&gt; 4  0.25961718  0.03008764   6.578424</span>
<span class="co">#&gt; 5 -0.11495811 -0.02971837 -19.584090</span>
<span class="co">#&gt; 6  0.57638627 -0.42979818   6.825719</span></code></pre></div>
<ul>
<li><code>na_replace</code></li>
</ul>
<p>This allows the user to conveniently replace missing values. Current options are <code>ffill</code> which replaces with the next non-missing value, <code>samples</code> that samples the data and does replacement, <code>value</code> that allows one to fill <code>NA</code>s with a specific value. Other common mathematical methods like <code>min</code>, <code>max</code>,<code>get_mode</code>, <code>sd</code>, etc are no longer supported. They are now available with more flexibility in standalone <a href="https://github.com/Nelson-Gon/mde">mde</a></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fu"><a href="../reference/na_replace.html">na_replace</a></span><span class="op">(</span><span class="va">airquality</span>, how<span class="op">=</span><span class="st">"value"</span>, value<span class="op">=</span><span class="st">"Missing"</span><span class="op">)</span>,<span class="fl">8</span><span class="op">)</span>
<span class="co">#&gt;     Ozone Solar.R Wind Temp Month Day</span>
<span class="co">#&gt; 1      41     190  7.4   67     5   1</span>
<span class="co">#&gt; 2      36     118  8.0   72     5   2</span>
<span class="co">#&gt; 3      12     149 12.6   74     5   3</span>
<span class="co">#&gt; 4      18     313 11.5   62     5   4</span>
<span class="co">#&gt; 5 Missing Missing 14.3   56     5   5</span>
<span class="co">#&gt; 6      28 Missing 14.9   66     5   6</span>
<span class="co">#&gt; 7      23     299  8.6   65     5   7</span>
<span class="co">#&gt; 8      19      99 13.8   59     5   8</span></code></pre></div>
<ul>
<li><code>na_replace_grouped</code></li>
</ul>
<p>This provides a convenient way to replace values by group.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">test_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>A<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">NA</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span>, B<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">5</span>,<span class="fl">6</span>,<span class="cn">NA</span><span class="op">)</span>,groups<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>,<span class="st">"A"</span>,<span class="st">"B"</span>,<span class="st">"B"</span><span class="op">)</span><span class="op">)</span>
<span class="co"># Replace NAs by group</span>
<span class="co"># replace with the next non NA by group.</span>
<span class="fu"><a href="../reference/na_replace_grouped.html">na_replace_grouped</a></span><span class="op">(</span>df<span class="op">=</span><span class="va">test_df</span>,group_by_cols <span class="op">=</span> <span class="st">"groups"</span>,how<span class="op">=</span><span class="st">"ffill"</span><span class="op">)</span>
<span class="co">#&gt;   groups A B</span>
<span class="co">#&gt; 1      A 1 1</span>
<span class="co">#&gt; 2      A 1 5</span>
<span class="co">#&gt; 3      B 2 6</span>
<span class="co">#&gt; 4      B 3 6</span></code></pre></div>
<p>The use of <code>mean</code>,<code>sd</code>,etc is no longer supported. Use <a href="https://github.com/Nelson-Gon/mde">mde</a> instead which is focused on missingness.</p>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Nelson Gonzabato.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
