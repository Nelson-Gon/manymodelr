<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Building predictive models with manymodelr • Build and Tune Several Models</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/darkly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Building predictive models with manymodelr">
<meta property="og:description" content="manymodelr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Build and Tune Several Models</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.8.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/manymodelr_vignette.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Documentation
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/modeling.html">Modeling with manymodelr</a>
    </li>
    <li>
      <a href="../articles/correlations.html">Correlation analysis</a>
    </li>
    <li>
      <a href="../articles/misc.html">Miscellaneous</a>
    </li>
    <li>
      <a href="../news/index.html">Changes</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Nelson-Gon/manymodelr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="modeling_files/header-attrs-2.11/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Building predictive models with manymodelr</h1>
            
            <h4 class="date">2021-12-11</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/Nelson-Gon/manymodelr/blob/master/vignettes/modeling.rmd"><code>vignettes/modeling.rmd</code></a></small>
      <div class="hidden name"><code>modeling.rmd</code></div>

    </div>

    
    
<p>First, a word of caution. The examples shown in this section are meant to simply show what the functions do and not what the best model is. For a specific use case, please perform the necessary model checks, post-hoc analyses, and/or choose predictor variables and model types as appropriate based on domain knowledge.</p>
<p>With this in mind, let us look at how we can perform modeling tasks using <code>manymodelr</code>.</p>
<ul>
<li><strong><code>multi_model_1</code></strong></li>
</ul>
<p>This is one of the core functions of the package. <code>multi_model_1</code> aims to allow model fitting, prediction, and reporting with a single function. The <code>multi</code> part of the function’s name reflects the fact that we can fit several model types with one function. An example follows next.</p>
<p>For purposes of this report, we create a simple dataset to use.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Nelson-Gon/manymodelr">manymodelr</a></span><span class="op">)</span>
<span class="co">#&gt; Loading required package: caret</span>
<span class="co">#&gt; Loading required package: ggplot2</span>
<span class="co">#&gt; Loading required package: lattice</span>
<span class="co">#&gt; Loading required package: Metrics</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'Metrics'</span>
<span class="co">#&gt; The following objects are masked from 'package:caret':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     precision, recall</span>
<span class="co">#&gt; Loading required package: e1071</span>
<span class="co">#&gt; Welcome to manymodelr. This is manymodelr version 0.3.8.9000.</span>
<span class="co">#&gt;  Please file issues and feedback at https://www.github.com/Nelson-Gon/manymodelr/issues</span>
<span class="co">#&gt; Turn this message off using 'suppressPackageStartupMessages(library(manymodelr))'</span>
<span class="co">#&gt;  Happy Modelling! :)</span>
<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">520</span><span class="op">)</span>
<span class="co"># Create a simple dataset with a binary target</span>
<span class="co"># Here normal is a fictional target where we assume that it meets </span>
<span class="co"># some criterion means </span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"yields"</span>, package <span class="op">=</span> <span class="st">"manymodelr"</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">520</span><span class="op">)</span>
<span class="va">train_set</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/pkg/caret/man/createDataPartition.html">createDataPartition</a></span><span class="op">(</span><span class="va">yields</span><span class="op">$</span><span class="va">normal</span>,p<span class="op">=</span><span class="fl">0.6</span>,list<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span>
<span class="va">valid_set</span><span class="op">&lt;-</span><span class="va">yields</span><span class="op">[</span><span class="op">-</span><span class="va">train_set</span>,<span class="op">]</span>
<span class="va">train_set</span><span class="op">&lt;-</span><span class="va">yields</span><span class="op">[</span><span class="va">train_set</span>,<span class="op">]</span>
<span class="va">ctrl</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/pkg/caret/man/trainControl.html">trainControl</a></span><span class="op">(</span>method<span class="op">=</span><span class="st">"cv"</span>,number<span class="op">=</span><span class="fl">5</span><span class="op">)</span>
<span class="va">m</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/multi_model_1.html">multi_model_1</a></span><span class="op">(</span><span class="va">train_set</span>,<span class="st">"normal"</span>,<span class="st">"."</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"knn"</span>,<span class="st">"rpart"</span><span class="op">)</span>, 
                 <span class="st">"Accuracy"</span>,<span class="va">ctrl</span>,new_data <span class="op">=</span><span class="va">valid_set</span><span class="op">)</span></code></pre></div>
<p>The above returns a list containing metrics, predictions, and a model summary. These can be extracted as shown below.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">m</span><span class="op">$</span><span class="va">metric</span>
<span class="co">#&gt; # A tibble: 1 x 2</span>
<span class="co">#&gt;   knn_accuracy rpart_accuracy</span>
<span class="co">#&gt;          &lt;dbl&gt;          &lt;dbl&gt;</span>
<span class="co">#&gt; 1        0.872           0.68</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">m</span><span class="op">$</span><span class="va">predictions</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 6 x 2</span>
<span class="co">#&gt;   knn   rpart</span>
<span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;</span>
<span class="co">#&gt; 1 Yes   Yes  </span>
<span class="co">#&gt; 2 No    Yes  </span>
<span class="co">#&gt; 3 No    No   </span>
<span class="co">#&gt; 4 No    Yes  </span>
<span class="co">#&gt; 5 No    No   </span>
<span class="co">#&gt; 6 Yes   Yes</span></code></pre></div>
<ul>
<li><strong>multi_model_2</strong></li>
</ul>
<p>This is similar to <code>multi_model_1</code> with one difference: it does not use metrics such as RMSE, accuracy and the like. This function is useful if one would like to fit and predict “simpler models” like generalized linear models or linear models. Let’s take a look:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># fit a linear model and get predictions</span>
<span class="va">lin_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/multi_model_2.html">multi_model_2</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">16</span>,<span class="op">]</span>,<span class="va">mtcars</span><span class="op">[</span><span class="fl">17</span><span class="op">:</span><span class="fl">32</span>,<span class="op">]</span>,<span class="st">"mpg"</span>,<span class="st">"wt"</span>,<span class="st">"lm"</span><span class="op">)</span>

<span class="va">lin_model</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"predicted"</span>, <span class="st">"mpg"</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt;                     predicted  mpg</span>
<span class="co">#&gt; Mazda RX4            10.17314 21.0</span>
<span class="co">#&gt; Mazda RX4 Wag        24.32264 21.0</span>
<span class="co">#&gt; Datsun 710           26.95458 22.8</span>
<span class="co">#&gt; Hornet 4 Drive       25.96479 21.4</span>
<span class="co">#&gt; Hornet Sportabout    23.13039 18.7</span>
<span class="co">#&gt; Valiant              18.38390 18.1</span>
<span class="co">#&gt; Duster 360           18.76632 14.3</span>
<span class="co">#&gt; Merc 240D            16.94420 24.4</span>
<span class="co">#&gt; Merc 230             16.92171 22.8</span>
<span class="co">#&gt; Merc 280             25.51488 19.2</span>
<span class="co">#&gt; Merc 280C            24.59258 17.8</span>
<span class="co">#&gt; Merc 450SE           27.41348 16.4</span>
<span class="co">#&gt; Merc 450SL           19.95856 17.3</span>
<span class="co">#&gt; Merc 450SLC          21.75818 15.2</span>
<span class="co">#&gt; Cadillac Fleetwood   18.15895 10.4</span>
<span class="co">#&gt; Lincoln Continental  21.71319 10.4</span></code></pre></div>
<p>From the above, we see that <code>wt</code> alone may not be a great predictor for <code>mpg</code>. We can fit a multi-linear model with other predictors. Let’s say <code>disp</code> and <code>drat</code> are important too, then we add those to the model.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">multi_lin</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/multi_model_2.html">multi_model_2</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">16</span>, <span class="op">]</span>, <span class="va">mtcars</span><span class="op">[</span><span class="fl">17</span><span class="op">:</span><span class="fl">32</span>,<span class="op">]</span>,<span class="st">"mpg"</span>, <span class="st">"wt + disp + drat"</span>,<span class="st">"lm"</span><span class="op">)</span>

<span class="va">multi_lin</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"predicted"</span>, <span class="st">"mpg"</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt;                     predicted  mpg</span>
<span class="co">#&gt; Mazda RX4            10.43041 21.0</span>
<span class="co">#&gt; Mazda RX4 Wag        24.39765 21.0</span>
<span class="co">#&gt; Datsun 710           25.56629 22.8</span>
<span class="co">#&gt; Hornet 4 Drive       25.38957 21.4</span>
<span class="co">#&gt; Hornet Sportabout    23.15234 18.7</span>
<span class="co">#&gt; Valiant              17.36908 18.1</span>
<span class="co">#&gt; Duster 360           17.67102 14.3</span>
<span class="co">#&gt; Merc 240D            15.59802 24.4</span>
<span class="co">#&gt; Merc 230             14.96161 22.8</span>
<span class="co">#&gt; Merc 280             25.05592 19.2</span>
<span class="co">#&gt; Merc 280C            23.66222 17.8</span>
<span class="co">#&gt; Merc 450SE           25.95326 16.4</span>
<span class="co">#&gt; Merc 450SL           17.05637 17.3</span>
<span class="co">#&gt; Merc 450SLC          21.97756 15.2</span>
<span class="co">#&gt; Cadillac Fleetwood   17.22593 10.4</span>
<span class="co">#&gt; Lincoln Continental  22.17872 10.4</span></code></pre></div>
<ul>
<li><strong><code>fit_model</code></strong></li>
</ul>
<p>This function allows us to fit any kind of model without necessarily returning predictions.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">lm_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fit_model.html">fit_model</a></span><span class="op">(</span><span class="va">mtcars</span>,<span class="st">"mpg"</span>,<span class="st">"wt"</span>,<span class="st">"lm"</span><span class="op">)</span>
<span class="va">lm_model</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = mpg ~ wt, data = use_df)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt; (Intercept)           wt  </span>
<span class="co">#&gt;      37.285       -5.344</span></code></pre></div>
<ul>
<li><code>fit_models</code></li>
</ul>
<p>This is similar to <code>fit_model</code> with the ability to fit many models with many predictors at once. A simple linear model for instance:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">models</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/fit_models.html">fit_models</a></span><span class="op">(</span>df<span class="op">=</span><span class="va">yields</span>,yname<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"height"</span>, <span class="st">"weight"</span><span class="op">)</span>,xname<span class="op">=</span><span class="st">"yield"</span>,
                   modeltype<span class="op">=</span><span class="st">"glm"</span><span class="op">)</span> </code></pre></div>
<p>One can then use these models as one may wish. To add residuals from these models for example:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R">

<span class="va">res_residuals</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">models</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, <span class="va">add_model_residuals</span>,<span class="va">yields</span><span class="op">)</span>
<span class="va">res_predictions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">models</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, <span class="va">add_model_predictions</span>, <span class="va">yields</span>, <span class="va">yields</span><span class="op">)</span>
<span class="co"># Get height predictions for the model height ~ yield </span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">res_predictions</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>
<span class="co">#&gt;   normal    height     weight    yield predicted</span>
<span class="co">#&gt; 1    Yes 0.2849090 0.13442312 520.2837 0.5028866</span>
<span class="co">#&gt; 2     No 0.2427826 0.37484971 504.4754 0.4943626</span>
<span class="co">#&gt; 3    Yes 0.2579432 0.47134828 515.6463 0.5003860</span>
<span class="co">#&gt; 4     No 0.5175604 0.50143592 522.2247 0.5039331</span>
<span class="co">#&gt; 5    Yes 0.4026023 0.47171755 502.6406 0.4933732</span>
<span class="co">#&gt; 6     No 0.9789886 0.04191937 509.4663 0.4970537</span></code></pre></div>
<p>If one would like to drop non-numeric columns from the analysis, one can set <code>drop_non_numeric</code> to <code>TRUE</code> as follows. The same can be done for <code>fit_model</code> above:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">m_models</span><span class="op">&lt;-</span><span class="fu"><a href="../reference/fit_models.html">fit_models</a></span><span class="op">(</span>df<span class="op">=</span><span class="va">yields</span>,yname<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"height"</span>,<span class="st">"weight"</span><span class="op">)</span>,
           xname<span class="op">=</span><span class="st">"."</span>,modeltype<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"lm"</span>,<span class="st">"glm"</span><span class="op">)</span>, drop_non_numeric <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">m_models</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = height ~ ., data = use_df)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt; (Intercept)       weight        yield  </span>
<span class="co">#&gt;   0.2176942   -0.2185572    0.0006712  </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[2]]</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; lm(formula = weight ~ ., data = use_df)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Coefficients:</span>
<span class="co">#&gt; (Intercept)       height        yield  </span>
<span class="co">#&gt;   0.0112753   -0.1463926    0.0006827</span></code></pre></div>
<div id="generating-a-simple-model-report" class="section level2">
<h2 class="hasAnchor">
<a href="#generating-a-simple-model-report" class="anchor"></a>Generating a (simple) model report</h2>
<p>One can generate a very simple model report using <code>report_model</code> as follows:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/report_model.html">report_model</a></span><span class="op">(</span><span class="va">m_models</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>
<span class="co">#&gt;              Type      Estimate      P_Value Exp_Estimate  Effect</span>
<span class="co">#&gt; 1 Estimated Score  0.2176942039 5.487736e-01    1.2432068    1.24</span>
<span class="co">#&gt; 2          weight -0.2185572088 1.252007e-08    0.8036775 -19.63%</span>
<span class="co">#&gt; 3           yield  0.0006711689 3.369693e-01    1.0006714  +0.07%</span></code></pre></div>
</div>
<div id="extraction-of-model-information" class="section level2">
<h2 class="hasAnchor">
<a href="#extraction-of-model-information" class="anchor"></a>Extraction of Model Information</h2>
<p>To extract information about a given model, we can use <code>extract_model_info</code> as follows.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="../reference/extract_model_info.html">extract_model_info</a></span><span class="op">(</span><span class="va">lm_model</span>, <span class="st">"r2"</span><span class="op">)</span>
<span class="co">#&gt; [1] 0.7528328</span></code></pre></div>
<p>To extract the adjusted R squared:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="../reference/extract_model_info.html">extract_model_info</a></span><span class="op">(</span><span class="va">lm_model</span>, <span class="st">"adj_r2"</span><span class="op">)</span>
<span class="co">#&gt; [1] 0.7445939</span></code></pre></div>
<p>For the p value:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="../reference/extract_model_info.html">extract_model_info</a></span><span class="op">(</span><span class="va">lm_model</span>, <span class="st">"p_value"</span><span class="op">)</span>
<span class="co">#&gt;  (Intercept)           wt </span>
<span class="co">#&gt; 8.241799e-19 1.293959e-10</span></code></pre></div>
<p>To extract multiple attributes:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="../reference/extract_model_info.html">extract_model_info</a></span><span class="op">(</span><span class="va">lm_model</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"p_value"</span>,<span class="st">"response"</span>,<span class="st">"call"</span>,<span class="st">"predictors"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; $p_value</span>
<span class="co">#&gt;  (Intercept)           wt </span>
<span class="co">#&gt; 8.241799e-19 1.293959e-10 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $response</span>
<span class="co">#&gt; [1] "mpg"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $call</span>
<span class="co">#&gt; lm(formula = mpg ~ wt, data = use_df)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $predictors</span>
<span class="co">#&gt; [1] "wt"</span></code></pre></div>
<p>This is not restricted to linear models but will work for most model types. See <code><a href="../reference/extract_model_info.html">help(extract_model_info)</a></code> to see currently supported model types.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Nelson Gonzabato.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
